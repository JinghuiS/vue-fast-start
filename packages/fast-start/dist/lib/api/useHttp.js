"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=require("vue");function g(t){return typeof t=="function"?t():a.unref(t)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const C=()=>{};function F(t,f=!1,o="Timeout"){return new Promise((m,T)=>{setTimeout(f?()=>T(o):m,t)})}function S(t,f=!1){function o(e,{flush:n="sync",deep:r=!1,timeout:s,throwOnTimeout:p}={}){let l=null;const y=[new Promise(w=>{l=a.watch(t,h=>{e(h)!==f&&(l==null||l(),w(h))},{flush:n,deep:r,immediate:!0})})];return s!=null&&y.push(F(s,p).then(()=>g(t)).finally(()=>l==null?void 0:l())),Promise.race(y)}function m(e,n){if(!a.isRef(e))return o(h=>h===e,n);const{flush:r="sync",deep:s=!1,timeout:p,throwOnTimeout:l}=n??{};let i=null;const w=[new Promise(h=>{i=a.watch([t,e],([u,c])=>{f!==(u===c)&&(i==null||i(),h(u))},{flush:r,deep:s,immediate:!0})})];return p!=null&&w.push(F(p,l).then(()=>g(t)).finally(()=>(i==null||i(),g(t)))),Promise.race(w)}function T(e){return o(n=>!!n,e)}function B(e){return m(null,e)}function P(e){return m(void 0,e)}function b(e){return o(Number.isNaN,e)}function x(e,n){return o(r=>{const s=Array.from(r);return s.includes(e)||s.includes(g(e))},n)}function v(e){return d(1,e)}function d(e=1,n){let r=-1;return o(()=>(r+=1,r>=e),n)}return Array.isArray(g(t))?{toMatch:o,toContains:x,changed:v,changedTimes:d,get not(){return S(t,!f)}}:{toMatch:o,toBe:m,toBeTruthy:T,toBeNull:B,toBeNaN:b,toBeUndefined:P,changed:v,changedTimes:d,get not(){return S(t,!f)}}}function q(t){return S(t)}function E(t){const{initialData:f,shallow:o,onSuccess:m=C,onError:T=C,immediate:B,resetOnExecute:P=!1,queryFn:b,queryKey:x}=t,v=(o?a.shallowRef:a.ref)(f),d=a.ref(!1),e=a.ref(!1),n=a.ref(!1),r=a.shallowRef(),s=u=>{e.value=u,d.value=!u},p=()=>{P&&(v.value=f)},l=()=>new Promise((u,c)=>{q(d).toBe(!0).then(()=>r.value?c(r.value):u(h))}),i={then:(...u)=>l().then(...u),catch:(...u)=>l().catch(...u)};let y=0;const w=()=>{if(r.value=void 0,e.value)return i;if(b===void 0)return d.value=!0,i;p(),s(!0),y+=1;const u=y;return b().then(c=>{const A=c;v.value=A,m(A)}).catch(c=>{r.value=c,T(c)}).finally(()=>{var c;(c=t.onFinish)==null||c.call(t),u===y&&s(!1)}),i};B&&w();const h={data:v,error:r,isFinished:d,isLoading:e,isAborted:n,isCanceled:n,execute:w};return{...h,...i}}exports.useHttp=E;
//# sourceMappingURL=useHttp.js.map
