{"version":3,"file":"factory.mjs","sources":["../../../../src/content/resource.ts","../../../../src/components/resource/Resource.vue","../../../../src/components/resource/factory.ts"],"sourcesContent":["import { inject, provide } from \"vue\"\n\nexport type Resource = {\n    name: string\n}\n\nexport const RESOURCE_CONTEXT = Symbol(\"RESOURCE_CONTEXT\")\n\nexport const createResourceProvider = (content: Resource) => {\n    return provide(RESOURCE_CONTEXT, content)\n}\n\nexport const useResourceContext = () => {\n    return inject(RESOURCE_CONTEXT, { name: \"\" })\n}\n","<script setup lang=\"ts\">\nimport { RouterView } from \"vue-router\"\nimport { createResourceProvider } from \"../../content/resource\"\n\ndefineOptions({\n    name: \"FsResource\"\n})\n\nconst props = defineProps<{\n    name: string\n}>()\n\ncreateResourceProvider({ name: props.name })\n</script>\n<template>\n    <RouterView />\n</template>\n","import { defineComponent } from \"vue\"\nimport { type RouteRecordRaw, type RouteComponent } from \"vue-router\"\nimport ResourceVue from \"./Resource.vue\"\n\ntype Lazy<T> = () => Promise<T>\nexport type CreateResourceFactoryConfig = {\n    name: string\n    label?: string\n    listView: RouteComponent | Lazy<RouteComponent>\n    detailView?: RouteComponent | Lazy<RouteComponent>\n    editView?: RouteComponent | Lazy<RouteComponent>\n    createView?: RouteComponent | Lazy<RouteComponent>\n}\n\nconst createResourceRoutes = (config: CreateResourceFactoryConfig): RouteRecordRaw[] => {\n    return [\n        {\n            path: `/${config.name}`,\n            name: config.name,\n            component: ResourceVue,\n            props: {\n                name: config.name\n            },\n            children: [\n                {\n                    path: \"\",\n                    name: `${config.name}-list`,\n                    component: config.listView\n                }\n            ]\n        }\n    ]\n}\n\nexport const createResourceFactory = (config: CreateResourceFactoryConfig) => {\n    const routes = createResourceRoutes(config)\n\n    return {\n        routes\n    }\n}\n"],"names":["RESOURCE_CONTEXT","createResourceProvider","content","provide","__props","createResourceRoutes","config","ResourceVue","createResourceFactory"],"mappings":";;AAMa,MAAAA,IAAmB,OAAO,kBAAkB,GAE5CC,IAAyB,CAACC,MAC5BC,EAAQH,GAAkBE,CAAO;;;;;;;ACG5C,WAAAD,EAAuB,EAAE,MAJXG,EAIuB,KAAM,CAAA;;ICErCC,IAAuB,CAACC,MACnB;AAAA,EACH;AAAA,IACI,MAAM,IAAIA,EAAO,IAAI;AAAA,IACrB,MAAMA,EAAO;AAAA,IACb,WAAWC;AAAAA,IACX,OAAO;AAAA,MACH,MAAMD,EAAO;AAAA,IACjB;AAAA,IACA,UAAU;AAAA,MACN;AAAA,QACI,MAAM;AAAA,QACN,MAAM,GAAGA,EAAO,IAAI;AAAA,QACpB,WAAWA,EAAO;AAAA,MACtB;AAAA,IACJ;AAAA,EACJ;AAAA,GAIKE,IAAwB,CAACF,OAG3B;AAAA,EACH,QAHWD,EAAqBC,CAAM;AAGtC;"}